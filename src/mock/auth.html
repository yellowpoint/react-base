<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <title>Redirect Page</title>
  </head>
  <body>
    <button id="redirectButton">Click to Redirect</button>

    <script>
      // 获取 URL 中的 redirectUrl 参数
      const urlParams = new URLSearchParams(window.location.search);
      const redirectUrl = urlParams.get("redirectUrl");

      // 添加点击事件监听器
      redirectButton.addEventListener("click", () => {
        // 模拟获取 token（可以根据实际情况进行修改）
        const token = "your_token_value";

        // 设置 token 到 Cookie
        document.cookie = `token=${token}; path=/; domain=localhost`;

        // 获取按钮元素
        const redirectButton = document.getElementById("redirectButton");
        if (redirectUrl) {
          window.location.href = redirectUrl;
        } else {
          console.error("Missing redirectUrl parameter in the URL");
        }
      });
    </script>
  </body>
</html>
